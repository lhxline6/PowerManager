<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <!-- saved from url=(0014)about:internet -->
    <title>Why All the Preparation?</title>
    <link rel="StyleSheet" href="css/ws_replay.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" />
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/context.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/towwhdir.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/wwhpagef.js"></script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        var  WebWorksRootPath = "";
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        // Set reference to top level help frame
        //
        var  WWHFrame = WWHGetWWHFrame("", true);
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2" src="scripts/expand.js"></script>
  </head>
  <body style="" onLoad="WWHUpdate();" onUnload="WWHUnload();" onKeyDown="WWHHandleKeyDown((document.all||document.getElementById||document.layers)?event:null);" onKeyPress="WWHHandleKeyPress((document.all||document.getElementById||document.layers)?event:null);" onKeyUp="WWHHandleKeyUp((document.all||document.getElementById||document.layers)?event:null);">
    <br />
    <div class="WebWorks_Breadcrumbs" style="text-align: left;">
      <a class="WebWorks_Breadcrumb_Link" href="ws_replay.3.1.html#1016895">Using Replay Debugging Mode</a> : <a class="WebWorks_Breadcrumb_Link" href="ws_replay.3.3.html#1016895">Prepare the Host and Guest</a> : Why All the Preparation?</div>
    <hr align="left" />
    <blockquote>
      <div class="H2_Heading2"><a name="1016895">Why All the Preparation?</a></div>
      <div class="B_Body"><a name="1022436">Previous sections asked you to ensure that Visual Studio is configured to use the Microsoft symbol server, that </a>DLLs used by your program are available in both the guest and the host, and that paging of kernel-mode stacks is disabled. Proper preparation is needed to guarantee accessibility of memory in the guest. The virtualization layer can access only guest physical memory. When Visual Studio tries to access memory that is not present in guest physical memory (for example, because it has been paged), the memory is not accessible.</div>
      <div class="B_Body"><a name="1022430">Proper preparation helps the Integrated Virtual Debugger avoid the problem. When paging of kernel-mode </a>stacks is disabled, kernel-mode stacks are guaranteed to be in guest physical memory. Similarly, when Visual Studio uses the Microsoft symbol server, Visual Studio has access to accurate symbols in the memory that it tries to read (in other words, it reads memory that is more likely to be in guest physical memory).</div>
      <div class="B_Body"><a name="1022735">Otherwise, the Integrated Virtual Debugger tries to get the desired data in some other way. One technique it </a>uses is to read code memory out of the file from which it was mapped. This is why the debugger needs access to the same DLLs on both the host and the guest. As a last resort, the debugger takes a snapshot, goes live (diverging from the replay process), asks the guest tools to read memory, and finally restores the snapshot. The snapshot technique is effective but slow, which is why you should take preparatory steps to avoid it.</div>
      <script type="text/javascript" language="JavaScript1.2">
        <!--
          // Clear related topics
          //
          WWHClearRelatedTopics();

          document.writeln(WWHRelatedTopicsInlineHTML());
        // -->
      </script>
    </blockquote>
    <hr align="left" />
    <table align="right"></table>
    <div class="copyright_info" style="font-family: sans-serif; font-size: 12px"></div>
    <div class="copyright_info" style="font-family: sans-serif; font-size: 12px; color:gray">
      <span class="copyright_info" style="font-family: sans-serif; font-size: 8pt; color:gray">
        <a href="#" onclick="WWHFrame.WWHControls.fClickedEmail()">Send feedback</a> &nbsp;| &nbsp; <a href="http://vmware.com/support/" target="_blank">Technical Support</a> &nbsp;| &nbsp; Copyright Â© 1998-2009 VMware, Inc. All rights reserved. This product is protected by U.S. and international copyright and intellectual property laws. This product is covered by one or more patents listed in the patent.txt file found at <a href="http://www.vmware.com/go/patents" target="_blank">http://www.vmware.com/go/patents</a>.</span>
    </div>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        document.write(WWHRelatedTopicsDivTag() + WWHPopupDivTag() + WWHALinksDivTag());
      // -->
    </script>
  </body>
</html>